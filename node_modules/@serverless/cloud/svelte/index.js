"use strict";

// src/svelte.ts
module.exports = function withCloud(options = {}) {
  options.kit = options.kit || {};
  options.kit.adapter = {
    name: "@serverless/cloud",
    async adapt(builder) {
      const svelte = "svelte";
      builder.rimraf(svelte);
      builder.writeServer(svelte);
      const static_ = "static";
      builder.rimraf(static_);
      builder.writeClient(static_);
      builder.writePrerendered(static_);
    }
  };
  options.kit.files = options.kit.files || {};
  options.kit.files.assets = options.kit.files.assets || "src/assets";
  return options;
};
